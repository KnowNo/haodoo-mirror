<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>
好讀</title>
<link rel="shortcut icon" href="image/favicon.ico">
<script language="javascript" type="text/javascript" src="cookie.js"></script>

<link rel=stylesheet href="styles.css" type="text/css">

<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.3.min.js" type="text/javascript"></script>
<link href="https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.7/bootstrap.min.js"></script>

<script language="javascript" type="text/javascript" src="d.js"></script>

<script type="text/javascript">
$(document).ready(function(){
	$("hr").css({
       "margin-top": "6",
       "margin-bottom": "6",
       "color": "#CCCCCC",
       "background-color": "#CCCCCC"
       });
	$("a").hover(
       function(){$(this).css("color", "#E88E00")},
       function(){$(this).css("color", "#0078F0")}
       );
});
</script>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9086653-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body style="background-color:#0088aa" text="#333333" link="#0078F0" vlink="#005AB4" alink="#FF6600" topmargin="0" leftmargin="0" marginwidth="0" marginheight="0">
<table style="background-color:#FFFFFF" bgcolor="" border=0 cellspacing=0 cellpadding=0 align=center width="740">
<tr valign=top>
<td valign=top>
<table border=0 cellspacing=0 cellpadding=0 width=560 class="a14">
<tr>
<td align=top>
<table border=0 cellspacing=0 cellpadding=0>
<tr>
<td width=110><a href="index.html%3FM=hd&amp;P=welcome.html"><img SRC="image/logo-haodoo.png" align=left border="0" alt="好讀首頁"></a></td>
<td class="a03">
<a href="index.html%3FM=hd&amp;P=100.html">世紀百強</a>　|　<a href="index.html%3FM=hd&amp;P=wisdom.html">隨身智囊</a>　|　<a href="index.html%3FM=hd&amp;P=history.html">歷史煙雲</a>　|　<a href="index.html%3FM=hd&amp;P=martial.html">武俠小說</a>　|　<a href="index.html%3FM=hd&amp;P=mystery.html">懸疑小說</a><br>
<a href="index.html%3FM=hd&amp;P=romance.html">言情小說</a>　|　<a href="index.html%3FM=hd&amp;P=scifi.html">奇幻小說</a>　|　<a href="index.html%3FM=hd&amp;P=fiction.html">小說園地</a>　|　<a href="index.html%3FM=hd&amp;P=audio.html">有聲書　</a>　|　<a href="index.html%3FM=hd&amp;P=letter.html">更新預告</a>
</td></tr></table>
</td></tr>

<tr>
<td align=top>
<table border=0 cellspacing=0 cellpadding=0>
<tr>

<td width="20"></td>
<td valign=top>
<table border=0 cellspacing=0 cellpadding=0>
<tr>
<td valign=top>
<span id=t>
<table border=0 cellspacing=0 cellpadding=0 class="a03" background="images/bgfadegreen.gif" width="510">
<tr>
<td><img src="images/subject-mbook.gif" align=left></td>
<td width=100><font color="CC0000"></font></td>
</tr></table>
</span>
</td></tr>
<tr><td height=10></td></tr>
<tr>
<!--------------------- START INCLUDE FILES --------------------->
<td>
<table border=0 cellspacing=0 cellpadding=0 width="530">
<tr>
<td>
<h4>好讀製書程式 mPDB 2.2　<a href="index.html%3FP=jiann.html">周劍輝</a></h4>
<b>免費</b> mPDB22.zip  [<a href="Files/mPDB/mPDB22.zip">下載</a>] <font size=2>2010/7/2 (436K) 2010/7/7</font><br>
<br>
1) 請先在PC或隨身碟上建一個 mPDB 目錄。<br>
2) 將下載的 mPDB22.zip 解壓縮至 mPDB 目錄。<br>
3) 解出的檔案只有兩個：mPDB.exe 及 錯別字.txt。<br>
4) mPDB.exe 立馬可用，沒有其他囉唆的安裝程式。<br>
<h4 class="t16">mPDB 2.2 主要新增功能：使用 Unicode</h4>
<ul>
<li><a href="index.html%3FM=hd&amp;P=mPDB21.html">mPDB 2.1</a> 使用Big5碼，輸入Unicode會變成？，本版不會。</li>
<li>任何語系的Windows都能使用本版。</li>
<li>修改了設定檔的使用介面。</li>
<li>若您熟悉2.1版，使用本版很容易，這裡不再重複說明。</li>
<li>新手請先參看<a href="index.html%3FM=hd&amp;P=mPDB21.html">mPDB 2.1</a>的說明。</li>
<li>原PDB檔是使用Big5碼，本版新增uPDB檔，是使用Unicode規格。</li>
<li>[轉成PDB檔]預設是uPDB檔，您也可選擇產生PDB檔。</li>
<li>本版可讀PDB及uPDB檔。</li>
<li>使用本版擷取出的文字檔是Unicode規格。</li>
</ul>
<br>
<img src="images/mPDB22-1.jpg" HSPACE=6>
<h4 class="t16">過渡期的痛苦</h4>
<ul>
<li>mPDB 2.2 產生的uPDB檔，目前只有mPDB 2.2能顯示。</li>
<li>若您製作的書是純Big5碼，仍可以使用mPDB 2.1製作。</li>
<li>若您製作的書含Unicode，最好使用mPDB 2.2製作，才不會缺字。</li>
<li>目前幾乎所有的作業系統都支援Unicode，好讀網站的新書更新，2010/7/1起，都會使用本版產生的PDB檔及uPDB檔。
<li>當本版穩定後，會先改寫好讀網頁版及PC版，讀uPDB檔。</li>
<li>當全面Unicode化之後，唯一的痛苦是Palm機種，因不支援Unicode，將無法閱讀uPDB檔。目前還想不出較好的解決方法，屆時再說吧。</li>
</ul>

<h4 class="t16"><a name="P">新版 uPDB (Unicode) 及 PDB (Big5) 檔規格</a></h4>
機子及作業系統越來越多，我不可能逐一撰寫閱讀軟體，因而特將uPDB及PDB檔詳細規格公布如下，方便有興趣、有時間、能寫程式的讀友，為新機種撰寫閱讀軟體。<br>
<ol>
<li>PDB是源自Palm作業系統的一個單一檔案，簡易資料庫。
<li>每一個PDB檔含N筆不定長度的資料(record)。</li>
<li>PDB檔最前面當然要有個Header，定義本資料庫的特性。</li>
<li>因資料長度非固定，無法計算位置。所以Header之後，是各筆資料所在的位置，可以用來讀資料及計算每筆資料的長度。</li>
<li>之後，就是一筆一筆的資料，沒什麼大學問可言。<br><br></li>
<li>檔案的前78個bytes，是Header[0..77]：</li>
<ul>
<li>Header[0..34]舊版是放書名，新版是放作者。可以不理。</li>
<li>Header[35]是2，舊版是1。可以不理。</li>
<li>Header[36..43]是為Palm而加的兩個日期，可以不理。</li>
<li>Header[44..59]都是0。可以不理。</li>
<li>Header[60..63]是"BOOK"。可以不理。</li>
<li><b>Header[64..67]是判別的關鍵，PDB是"MTIT"，uPDB是"MTIU"。</b></li>
<li>Header[68..75]都是0。可以不理。</li>
<li><b>Header[76..77]是record數 = N (章數) 加2 (目錄及書籤)。</b></li></li>
</ul>
<br>
<li>每筆資料的起始位置及屬性，依Palm的規格是8個bytes，前4個bytes是位置，後4個bytes是0。一共有 (N+2) * 8 bytes。<br><br></li>
<li>第一筆資料定義書的屬性，是8個空白字元、書名、章數及目錄：</li>
<ul>
<li><b>(PDB檔)</b><br>
8個空白btyes，可以不理；<br>
之後接書名是Big5碼，後接三個ESC(即27)；<br>
之後接章數(ASCII string)，後接一個ESC；<br>
之後接目錄，各章之標題是以ESC分隔。</li>
<li><b>(uPDB檔) </b><br>
8個空白btyes，可以不理；<br>
之後接書名是Unicode碼，後接三個ESC(即27,0)；<br>
之後接章數(ASCII string)，後接一個ESC (27, 0)；<br>
之後接目錄，各章之標題是以CR(13,0) NL(10,0) 分隔。</li>
</ul>
<br>
<li>再來是N筆資料，每筆是一章的內容，PDB檔是Big5碼(是null-terminated string，最後一個byte是0)，uPDB檔是Unicode碼。<br><br></li>
<li>第N+2筆資料是書籤，預設是-1。可以不理。</li>
</ol>
<h4 class="t16">撰寫好讀閱讀軟體</h4>
因為一次只顯示一章，我是自updb/pdb檔抓該章排版。仔細說是：
<ol>
<li>將第n章內容讀入一個string (我是用C)。</li>
<li>計算共有幾頁，儲存每頁的第一個字的位置 (瞬間計算)。</li>
<li>要顯示第k頁，則從該頁的第一個字開始排到該頁的最後一個字。</li>
<li>全部是即時計算，即使使用Palm速度也快到沒感覺。</li>
</ol>
段落之間有個空白分行，排版時我是減半空白行的寬度，比較好看。網頁版較難處理，只好暫時 (很久了)，先將空白分行拿掉。實體書多半無空白分行，省紙張，螢幕排版則多加半行，不致密密麻麻，眼睛比較舒適。<br>


<br>
<img src="images/mPDB22.jpg" HSPACE=6><br>
<br>
Windows 7 英文版上的含日文及簡體中文的預覽示範畫面<br><br>
</td>
<td width="20"></td>
</tr></table>
</td></tr>

<tr>
<td>
<table border=0 cellspacing=0 cellpadding=0 COLS=4 WIDTH="100%" background="images/d_background.gif">
<tr class="a90" height=24>
<td width="25%" align="center"><a href="index.html%3FM=hd&amp;P=welcome.html">好讀首頁</a></td>
<td width="25%" align="center"><a href="index.html%3FM=hd&amp;P=about.html">有關好讀</a></td>
<td width="25%" align="center"><a href="index.html%3FM=hd&amp;P=newcomer.html">讀友需知</a></td>
<td width="25%" align="center"><a href="index.html%3FM=mail&amp;P=contact.html">聯絡好讀</a>
</td></tr></table>
<br>
</td></tr></table>
</td></tr></table>
</td></tr></table>
<td width=180 valign=top>
<table border=0 cellspacing=0 cellpadding=0 WIDTH="160">

<tr><td height=10></td></tr>
<tr><td><font color="CC3300" size=2>搜尋好讀</font></td></tr>
<!-- SiteSearch Google -->
<form action="http://www.google.com/cse" id="cse-search-box" target="_blank">
<tr><td>
<input type="hidden" name="cx" value="partner-pub-4729470741573892:vcr86ky33h9" />
<input type="hidden" name="ie" value="UTF-8" />
<input type="text" name="q" size="10" />
<input type="submit" name="sa" value="搜尋" />
</td></tr></form>
<!-- SiteSearch Google -->

<tr>
<td valign=top width="160">
<table border=0 cellspacing=0 cellpadding=0 class="a03">
<tr><td height=10></td></tr>
<tr><td>
<font color="CC0000">好讀第17年了</font>。<br>
有好讀真好，有你也真好。但不知遍及各地的你，究竟有多少。若你從未或很久沒贊助過好讀，<a href="index.html%3FM=hd&amp;P=donate.html">請按這裡</a>，贊助好讀美金或人民幣十元，讓我知道你存在。<br>
<br>
<font color="CC0000">11/25香港 Dennis C</font><br>
幾年前由朋友介紹得悉好讀，多年來在旅途中它都帶給我很多樂趣。香港地方狹小，不少書都因地方問題而送人或丟棄，好讀卻帶給了我很多閲讀的方便、亦節省了儲存的位置。衷心多謝各位工作仝人！<br>
<br>
<font color="CC0000">11/19 美國紐約 June</font><br>
發現好讀幾年了，但現在才發現這好讀留言板。抱歉呢，理應更早道謝。身在海外，要看一本中文書不是易事。書店售書種類少，價錢高；圖書館借書種類更少。幸好發現好讀網，可以一解書癮。衷心感謝所有有心人上載和校對。<br>
<br>
<font color="CC0000">11/17 大陸 Shirley</font><br>
偶然發現好讀網這塊寶地真的很驚訝，網絡上有這樣安靜舒適的地方可以閱讀電子書，對我這種資金短缺的學生真的很意外很開心！<br>
<br>
<font color="CC0000">11/16 香港 chair chun wai</font><br>
因為買了Kindle的緣故，所以才發現"好讀"這個地方。感謝"好讀"一直的更新和提供書本給大家。感謝感謝<br>
<br>
<font color="CC0000">11/15 香港 mike chan</font><br>
我認識好讀是因爲kindle。那時中學買了kindle，需要找找電子書，因此在網上發現了好讀。對於繁體字kindle用家，這是個大福音！<br>
<br>
<font color="CC0000">11/13 大陸 BerthaR</font><br>
今天因為Kindle的緣故找書，才發現好讀這個地方。感覺是一方淨土，公益地為書友們獲取知識省下了不少財力，節省了大家的時間：）目前我只是個高中生，提供的也只有十塊錢而已啦。十七年的好讀真是令人敬佩！希望你們知道我的感謝，還有知道更多人的感謝！<br>
<br>
<font color="CC0000">11/9 香港 MJ</font><br>
從小喜愛看書，看書人也許都知道要管理保存書本是不容易的（尤其香港的地方空間更有限）。今年開始嘗試電子書，看看能否接受。因為好讀網的海量書本，小弟所喜愛的黃易＋衛斯理，還有準備開始看的金庸也不用愁了。感謝好讀！<br>
<br>
>> <a href="index.html%3FM=hd&amp;P=letters.html">更多</a><br>
<br>
</td></tr></table>
</td></tr></table>
</td></tr></table>
</body>
</html>
